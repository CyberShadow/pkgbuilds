pkgname=system-configs
pkgver=1.3.3
pkgrel=1

pkgdesc='Personal system configurations'
arch=('any')
url='https://github.com/Earnestly'
license=('custom')

depends=('systemd' 'tzdata' 'xorg-server' 'xf86-video-intel' 'xf86-input-synaptics')

source=('etc-locale.conf'
        'etc-vconsole.conf'
        'mod-i915.conf'
        'mod-pcspkr.conf'
        'mod-uvcvideo.conf'
        'sysctl-coredump.conf'
        'sysctl-dirty.conf'
        'sysctl-fq_codel.conf'
        'sysctl-swap.conf'
        'systemd-user@.service'
        'xorg-intel.conf'
        'xorg-synaptics-tweaks.conf'
        'xorg-trackpoint.conf'
        'xorg-evdev-tweaks.conf')

package() {
    # Etc.
    install -Dm644 etc-locale.conf "$pkgdir"/etc/locale.conf
    install -Dm644 etc-vconsole.conf "$pkgdir"/etc/vconsole.conf
    ln -sf /usr/share/zoneinfo/Europe/London "$pkgdir"/etc/localtime 

    # Modprobe.
    install -Dm644 mod-i915.conf "$pkgdir"/etc/modprobe.d/i915.conf
    install -Dm644 mod-pcspkr.conf "$pkgdir"/etc/modprobe.d/pcspkr.conf
    install -Dm644 mod-uvcvideo.conf "$pkgdir"/etc/modprobe.d/uvcvideo.conf

    # Systemd.
    # Add environments for XDG_*_HOME altered defaults.
    #install -Dm644 systemd-user@.service "$pkgdir"/etc/systemd/system/user@.service

    # Sysctl.
    install -Dm644 sysctl-swap.conf "$pkgdir"/etc/sysctl.d/swap.conf
    install -Dm644 sysctl-dirty.conf "$pkgdir"/etc/sysctl.d/dirty.conf
    install -Dm644 sysctl-fq_codel.conf "$pkgdir"/etc/sysctl.d/fq_codel.conf
    #install -Dm644 sysctl-coredump.conf "$pkgdir"/etc/sysctl.d/50-coredump.conf

    # Xorg.
    install -Dm644 xorg-intel.conf "$pkgdir"/etc/X11/xorg.conf.d/12-intel.conf
    install -Dm644 xorg-trackpoint.conf "$pkgdir"/etc/X11/xorg.conf.d/13-trackpoint.conf
    install -Dm644 xorg-evdev-tweaks.conf "$pkgdir"/etc/X11/xorg.conf.d/11-evdev-tweaks.conf
    install -Dm644 xorg-synaptics-tweaks.conf "$pkgdir"/etc/X11/xorg.conf.d/51-synaptics-tweaks.conf
}

sha1sums=('31ff548797814ab1cf842fe3ed86e7b8c66c4be4'
          '72e8b90c4ee277d85fd5fab5df8a5dfa538d338a'
          '5b59530577e11ace46fa5df59f8782f82ffe148d'
          'ee919734ce53dcebbe319f230aca847f86e2249c'
          '3b3a6f07f7934ca435deb853cd607506eda4fb1c'
          '649bc20797585a40615af60c0da8b419f202d169'
          'cc7f3fbabad4c84afdf4d20df973ef37629694e4'
          '94e3346d3e98da1ec62bcd07901894893bd9b930'
          '929b10c4bb2c3414458420ad86ed32be47723769'
          '74dc69588e8e9bee37e849656c958f6dc34a02c9'
          'c96f4a2a54797fe7a3c3f590d68a929d3b2cde53'
          'ebf354ca8f185b9afb579731e2b23a0c767e20a9'
          'd2323a2ca403ffa7cb5bd4e7dd68d1ab1a49bfce'
          'd351457ce49cf2bb1f75ac69d16b4901d9073ad8')
