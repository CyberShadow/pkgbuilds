pkgname=retroarch-git
pkgver=0.9.9.r4330.g631c02e
pkgrel=1

pkgdesc="Simple frontend for the libretro API."
arch=('i686' 'x86_64')
url="http://github.com/libretro/RetroArch"
license=('GPL')

depends=('mesa' 'sdl' 'nvidia-cg-toolkit')
makedepends=('git')
optdepends=('python: For converting cg shaders to glsl shaders')

provides=('retroarch')
conflicts=('retroarch')

source=('git://github.com/libretro/RetroArch.git')
md5sums=('SKIP')

pkgver() {
    cd RetroArch
    git describe --tags | sed 's/^v//; s/-/.r/; s/-/./'
}

build() {
    cd RetroArch
    ./configure --prefix=/usr --enable-cg
    make
}

package() {
    cd RetroArch
    make install DESTDIR="$pkgdir"
}
